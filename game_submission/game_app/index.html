<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Delta Defense: Tr√≤ ch∆°i chi·∫øn l∆∞·ª£c b·∫£o v·ªá ƒê·ªìng b·∫±ng S√¥ng C·ª≠u Long kh·ªèi bi·∫øn ƒë·ªïi kh√≠ h·∫≠u.">
    <title>Delta Defense - Th√°ch Th·ª©c Bi·∫øn ƒê·ªïi Kh√≠ H·∫≠u</title>
    <style>
        /* CSS ƒë∆∞·ª£c tinh ch·ªânh */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }
        .screen { padding: 40px 20px; text-align: center; }
        .hidden { display: none; }

        /* MENU SCREEN STYLING */
        #menu-screen h1 { font-size: 3em; color: #2e7d32; margin-bottom: 5px; }
        #menu-screen h2 { font-size: 1.5em; color: #4CAF50; margin-top: 0; }
        #menu-screen button { padding: 15px 30px; font-size: 1.2em; background-color: #2e7d32; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 20px; }
        #menu-screen button:hover { background-color: #4CAF50; }
        .instructions { margin-top: 30px; text-align: left; max-width: 600px; margin-left: auto; margin-right: auto; padding: 20px; background-color: #e8f5e9; border-radius: 5px; }

        /* PLAY SCREEN LAYOUT */
        #play-screen { 
            display: flex; 
            height: 100vh; 
            align-items: stretch; /* ƒê·∫£m b·∫£o c√°c th√†nh ph·∫ßn k√©o d√†i h·∫øt chi·ªÅu cao */
            padding: 0;
        } 
        #sidebar { 
            width: 300px; 
            padding: 20px; 
            background-color: #fff; 
            border-right: 1px solid #ccc; 
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* ƒê·∫©y UI l√™n tr√™n, nh√¢n v·∫≠t xu·ªëng d∆∞·ªõi */
        }
        #game-area {
            flex-grow: 1; 
            display: flex;
            flex-direction: column;
            padding: 10px;
            background-color: #f0f0f0;
        }

        /* GAME BOARD 25x25 */
        #game-board { 
            flex-grow: 1; /* Chi·∫øm to√†n b·ªô kh√¥ng gian c√≤n l·∫°i */
            display: grid; 
            grid-template-columns: repeat(25, 1fr); 
            grid-template-rows: repeat(25, 1fr); 
            gap: 1px; 
            margin: 0;
            border: 2px solid #555;
            background-color: #7cb342;
        }

        /* TILES & STATES */
        .tile { 
            border: 1px solid #ccc; 
            background-color: #9ccc65; /* ƒê·∫•t N√¥ng nghi·ªáp */
            cursor: pointer; 
            transition: background-color 0.1s;
        }
        .dyke { background-color: #795548; } /* ƒê√™ n√¢u */
        .mangrove { background-color: #388e3c; } /* R·ª´ng xanh ƒë·∫≠m */
        .rice { background-color: #e0f2f1; } /* L√∫a ch·ªãu m·∫∑n */
        .damaged { background-color: #ff5252; border: 2px solid red; } /* H∆∞ h·ªèng ƒë·ªè */
        .action-btn { margin: 5px 0; padding: 10px; background-color: #4CAF50; color: white; border: none; border-radius: 3px; cursor: pointer; width: 100%; }
        .action-btn:hover { background-color: #45a049; }
        #end-turn-btn { margin-top: 20px; padding: 15px; background-color: #f44336; color: white; border: none; border-radius: 5px; cursor: pointer; width: 100%; font-size: 1.1em; }
        
        /* CHARACTER & UNIVERSITY NAME */
        .character-box { 
            text-align: center; 
            padding-top: 20px; 
            border-top: 1px solid #eee;
        }
        .university-name { 
            font-weight: bold; 
            color: #004d40; 
            margin-bottom: 5px;
            font-size: 1.1em;
        }

        /* MESSAGE LOG */
        #message-log { 
            margin-top: 15px; 
            padding: 10px; 
            background-color: #fff3e0; 
            border: 1px solid #ff9800; 
            min-height: 50px; 
            text-align: left;
        }
        .summary-text { font-size: 18px; }
        
        /* UPGRADE PANEL */
        #upgrade-panel { 
            position: fixed; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            background-color: #fff; 
            border: 2px solid #333; 
            padding: 30px; 
            z-index: 20; 
            display: none; 
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            text-align: left;
        }
    </style>
</head>
<body>
    <div id="menu-screen" class="screen">
        <h1>DELTA DEFENSE</h1>
        <h2>B·∫£o V·ªá ƒê·ªìng B·∫±ng S√¥ng C·ª≠u Long</h2>
        <p>V·∫•n ƒë·ªÅ: N∆∞·ªõc bi·ªÉn d√¢ng, x√¢m nh·∫≠p m·∫∑n v√† l≈© l·ª•t. B·∫°n c√≥ 8 m√πa ƒë·ªÉ th√≠ch nghi v√† b·∫£o v·ªá c·ªông ƒë·ªìng.</p>
        <label for="difficulty-select">Ch·ªçn ƒê·ªô Kh√≥:</label>
        <select id="difficulty-select">
            <option value="easy">D·ªÖ (√çt S·ª± Ki·ªán)</option>
            <option value="medium" selected>Trung B√¨nh</option>
            <option value="hard">Kh√≥ (Thi·ªát H·∫°i L·ªõn)</option>
            <option value="hell">ƒê·ªãa Ng·ª•c</option>
            <option value="destruction">H·ªßy Di·ªát</option>
        </select>
        <button onclick="startGame(document.getElementById('difficulty-select').value)">B·∫ÆT ƒê·∫¶U CHI·∫æN D·ªäCH</button>
        <div class="instructions">
            <h3>Lu·∫≠t Ch∆°i</h3>
            <ul>
                <li>Qu·∫£n l√Ω <strong>Ti·ªÅn</strong> v√† <strong>Th·ªùi gian</strong> (s·ªë h√†nh ƒë·ªông m·ªói m√πa).</li>
                <li>X√¢y d·ª±ng: <em>ƒê√™</em> (ch·ªëng l≈©), <em>R·ª´ng Ng·∫≠p M·∫∑n</em> (ch·ªëng m·∫∑n), <em>L√∫a Ch·ªãu M·∫∑n</em> (s·∫£n xu·∫•t & th√≠ch nghi).</li>
                <li>M·ª•c ti√™u: Gi·ªØ √≠t nh·∫•t 10% (63 √¥) ƒë·∫•t n√¥ng nghi·ªáp sau 8 m√πa ƒë·ªÉ th·∫Øng.</li>
            </ul>
        </div>
    </div>

    <div id="play-screen" class="screen hidden">
        <aside id="sidebar" aria-label="Th√¥ng tin v√† h√†nh ƒë·ªông tr√≤ ch∆°i">
            <div>
                <div id="game-info">
                    <h3>M√πa: <span id="current-season">1</span>/20</h3>
                    <p>üí∞ Ti·ªÅn (V·ªën): <span id="funds-display">3000</span></p>
                    <p>‚è≥ H√†nh ƒë·ªông (c√≤n): <span id="time-display">100</span></p>
                    <p>üåæ ƒê·∫•t N√¥ng nghi·ªáp: <span id="farmland-health-display">625</span>/625</p>
                    <p>üèÜ ƒêi·ªÉm: <span id="score-display">0</span></p>
                </div>
                
                <div id="action-panel">
                    <h4>H√†nh ƒê·ªông Chi·∫øn L∆∞·ª£c</h4>
                    <button id="dyke-btn" data-action="dyke" class="action-btn" onclick="selectAction('dyke')">X√¢y ƒê√™ (150)</button>
                    <button id="mangrove-btn" data-action="mangrove" class="action-btn" onclick="selectAction('mangrove')">Tr·ªìng R·ª´ng (100)</button>
                    <button id="rice-btn" data-action="rice" class="action-btn" onclick="selectAction('rice')">Tr·ªìng L√∫a Ch·ªãu M·∫∑n (50)</button>
                    <button id="cancel-btn" class="action-btn" onclick="selectAction(null)">H·ªßy Ch·ªçn</button>
                </div>
                
                <button id="end-turn-btn" onclick="endTurn()">K·∫æT TH√öC M√ôA</button>
                <div id="message-log" role="log" aria-live="polite"></div>
            </div>

            <div class="character-box">
                <p class="university-name">GIA DINH UNIVERSITY</p>
                <img src="https://i.ibb.co/6P9V1Nf/character-placeholder.png" alt="Nh√¢n v·∫≠t ƒë·∫°i di·ªán cho ng∆∞·ªùi ch∆°i" width="100">
            </div>
        </aside>
        
        <div id="game-area">
            <h2 id="event-banner" style="color: #f44336; margin-bottom: 10px; display:none;">THI√äN TAI ·∫®N CH·ª®A...</h2>
            
            <div id="game-board" aria-label="B·∫£n ƒë·ªì l∆∞·ªõi 25x25 ƒë·∫°i di·ªán cho ƒë·ªìng b·∫±ng">
                </div>
        </div>
    </div>

    <div id="results-screen" class="screen hidden">
        <h1 id="final-status">K·∫æT TH√öC CHI·∫æN D·ªäCH</h1>
        <p class="summary-text">B·∫°n ƒë√£ sinh t·ªìn qua <span id="final-season"></span> m√πa.</p>
        <p class="summary-text">S·ªë √¥ ƒë·∫•t c√≤n l·∫°i: <span id="final-farmland"></span>/625</p>
        <p class="summary-text">Ti·ªÅn c√≤n l·∫°i: <span id="final-funds"></span></p>
        <p class="summary-text">ƒêi·ªÉm cu·ªëi: <span id="final-score"></span></p>
        <button id="restart-btn" onclick="restartGame()">Ch∆°i L·∫°i</button>
    </div>

    <div id="upgrade-panel">
        <h3>N√¢ng C·∫•p Sau Khi K·∫øt Th√∫c</h3>
        <p>S·ª≠ d·ª•ng ƒëi·ªÉm ƒë·ªÉ n√¢ng c·∫•p cho l·∫ßn ch∆°i ti·∫øp theo:</p>
        <button class="action-btn" onclick="upgrade('funds')">TƒÉng Ti·ªÅn Ban ƒê·∫ßu (+200 ƒêi·ªÉm)</button>
        <button class="action-btn" onclick="upgrade('actions')">TƒÉng H√†nh ƒê·ªông M·ªói M√πa (+1, 100 ƒêi·ªÉm)</button>
        <button class="action-btn" onclick="upgrade('resistance')">TƒÉng Kh√°ng Kh√≠ H·∫≠u (50 ƒêi·ªÉm)</button>
        <button class="action-btn" onclick="closeUpgrade()">ƒê√≥ng</button>
    </div>

    <script>
        // === BI·∫æN TO√ÄN C·ª§C & THI·∫æT L·∫¨P ===
        const GRID_SIZE = 25; // Gi·∫£m xu·ªëng 25x25 = 625 √¥
        const INITIAL_TILES = GRID_SIZE * GRID_SIZE;
        const MIN_FARMLAND_THRESHOLD = 0.1; // Thua n·∫øu c√≤n d∆∞·ªõi 10% (63 √¥)
        const MAX_SEASONS = 8;

        let season = 1;
        let funds = 1000;
        let actions = 10;
        let farmland = INITIAL_TILES;
        let score = 0;
        let difficulty = 'medium';
        let selectedAction = null;
        let board = []; // M·∫£ng 2D: 0 = ƒë·∫•t, 1 = ƒë√™, 2 = r·ª´ng, 3 = l√∫a, -1 = h∆∞ h·ªèng (damaged)
        let upgrades = { funds: 0, actions: 0, resistance: 0 }; // Theo d√µi n√¢ng c·∫•p

        const ACTION_COSTS = { 'dyke': 150, 'mangrove': 100, 'rice': 50 };

        // === KH·ªûI T·∫†O & UI ===

        function initBoard() {
            const boardElement = document.getElementById('game-board');
            boardElement.innerHTML = '';
            board = Array(GRID_SIZE).fill().map(() => Array(GRID_SIZE).fill(0)); // T·∫•t c·∫£ l√† ƒë·∫•t (0)
            for (let i = 0; i < GRID_SIZE; i++) {
                for (let j = 0; j < GRID_SIZE; j++) {
                    const tile = document.createElement('div');
                    tile.className = 'tile';
                    tile.dataset.x = i;
                    tile.dataset.y = j;
                    tile.addEventListener('click', () => buildOnTile(i, j));
                    boardElement.appendChild(tile);
                }
            }
        }

        function startGame(diff) {
            difficulty = diff;
            const diffSettings = {
                easy: { funds: 1500, actions: 12, damage: 0.5, eventChance: 0.3 },
                medium: { funds: 1000, actions: 10, damage: 1.0, eventChance: 0.5 },
                hard: { funds: 800, actions: 8, damage: 1.5, eventChance: 0.7 },
                hell: { funds: 600, actions: 6, damage: 2.0, eventChance: 0.8 },
                destruction: { funds: 500, actions: 5, damage: 3.0, eventChance: 0.9 }
            }[difficulty];

            season = 1;
            funds = diffSettings.funds + upgrades.funds * 200;
            actions = diffSettings.actions + upgrades.actions;
            farmland = INITIAL_TILES;
            score = 0;
            selectedAction = null;
            
            initBoard();
            updateUI();
            
            document.getElementById('menu-screen').classList.add('hidden');
            document.getElementById('play-screen').classList.remove('hidden');
            document.getElementById('upgrade-panel').style.display = 'none';
            document.getElementById('event-banner').style.display = 'none';
            logMessage('Chi·∫øn d·ªãch b·∫Øt ƒë·∫ßu! L·ª±a ch·ªçn chi·∫øn l∆∞·ª£c cho M√πa 1.');
        }

        function updateUI() {
            document.getElementById('current-season').textContent = season;
            document.getElementById('funds-display').textContent = funds;
            document.getElementById('time-display').textContent = actions;
            document.getElementById('farmland-health-display').textContent = farmland;
            document.getElementById('score-display').textContent = score;
        }

        function updateTile(x, y) {
            const tiles = document.querySelectorAll('.tile');
            const index = x * GRID_SIZE + y;
            const tileValue = board[x][y];
            
            let className = 'tile ';
            if (tileValue === 1) className += 'dyke';
            else if (tileValue === 2) className += 'mangrove';
            else if (tileValue === 3) className += 'rice';
            else if (tileValue === -1) className += 'damaged';
            
            tiles[index].className = className;
        }

        function logMessage(msg) {
            document.getElementById('message-log').textContent = msg;
        }

        // === LOGIC H√ÄNH ƒê·ªòNG ===

        function selectAction(action) {
            // Logic h·ªßy ch·ªçn n·∫øu click l·∫°i n√∫t ƒë√≥ ho·∫∑c click n√∫t H·ªßy
            if (selectedAction === action || action === null) {
                selectedAction = null;
                logMessage('H·ªßy ch·ªçn.');
                // X√≥a highlight tr√™n button
                document.querySelectorAll('.action-btn').forEach(btn => btn.style.border = 'none');
                return;
            }

            selectedAction = action;
            logMessage(`ƒê√£ ch·ªçn: ${action === 'dyke' ? 'X√¢y ƒê√™' : action === 'mangrove' ? 'Tr·ªìng R·ª´ng' : 'Tr·ªìng L√∫a Ch·ªãu M·∫∑n'}.`);
            // Highlight button ƒë√£ ch·ªçn
            document.querySelectorAll('.action-btn').forEach(btn => btn.style.border = 'none');
            document.getElementById(`${action}-btn`).style.border = '2px solid #ff9800';
        }

        function buildOnTile(x, y) {
            if (!selectedAction || actions <= 0) {
                logMessage('Kh√¥ng c√≥ h√†nh ƒë·ªông n√†o ƒë∆∞·ª£c ch·ªçn ho·∫∑c ƒë√£ h·∫øt h√†nh ƒë·ªông!');
                return;
            }
            
            const cost = ACTION_COSTS[selectedAction];
            const tileStatus = board[x][y];

            if (funds < cost) {
                logMessage('Kh√¥ng ƒë·ªß ti·ªÅn!');
                return;
            }
            
            // Ch·ªâ cho ph√©p x√¢y d·ª±ng tr√™n ƒë·∫•t th∆∞·ªùng (0) ho·∫∑c ƒë·∫•t b·ªã h∆∞ (-1)
            if (tileStatus !== 0 && tileStatus !== -1) {
                logMessage('√î n√†y ƒë√£ ƒë∆∞·ª£c x√¢y d·ª±ng!');
                return;
            }
            
            // X·ª≠ l√Ω H·ªìi ph·ª•c: n·∫øu x√¢y l√∫a tr√™n ƒë·∫•t h∆∞, coi nh∆∞ h·ªìi ph·ª•c
            if (tileStatus === -1 && selectedAction === 'rice') {
                farmland++;
                logMessage(`ƒê·∫•t t·∫°i (${x}, ${y}) ƒë√£ ƒë∆∞·ª£c h·ªìi ph·ª•c v√† tr·ªìng l√∫a ch·ªãu m·∫∑n!`);
            } else if (tileStatus === 0 && selectedAction === 'rice') {
                logMessage(`ƒê√£ tr·ªìng l√∫a ch·ªãu m·∫∑n t·∫°i (${x}, ${y}).`);
            } else if (tileStatus === -1 && (selectedAction === 'dyke' || selectedAction === 'mangrove')) {
                logMessage('Kh√¥ng th·ªÉ x√¢y ƒë√™/r·ª´ng tr√™n ƒë·∫•t h∆∞ h·∫°i, h√£y tr·ªìng l√∫a ƒë·ªÉ h·ªìi ph·ª•c tr∆∞·ªõc.');
                return;
            }


            // C·∫≠p nh·∫≠t tr·∫°ng th√°i
            board[x][y] = selectedAction === 'dyke' ? 1 : selectedAction === 'mangrove' ? 2 : 3;
            funds -= cost;
            actions--;
            
            updateTile(x, y);
            updateUI();
            
            // T·ª± ƒë·ªông h·ªßy ch·ªçn sau khi x√¢y
            selectAction(null); 
        }

        // === LOGIC THI√äN TAI (QUAN TR·ªåNG) ===

        function getDamageChance() {
            const baseChance = { easy: 0.3, medium: 0.4, hard: 0.5, hell: 0.6, destruction: 0.7 }[difficulty];
            return baseChance * (1 - upgrades.resistance * 0.1); // Gi·∫£m nh·ªù n√¢ng c·∫•p
        }

        function getAdjacentProtection(x, y, eventType) {
            const neighbors = [[0, 1], [0, -1], [1, 0], [-1, 0]]; // 4 h∆∞·ªõng ch√≠nh
            for (const [dx, dy] of neighbors) {
                const nx = x + dx;
                const ny = y + dy;
                if (nx >= 0 && nx < GRID_SIZE && ny >= 0 && ny < GRID_SIZE) {
                    const neighborStatus = board[nx][ny];
                    if ((eventType === 'flood' && neighborStatus === 1) || // 1 = Dyke
                        (eventType === 'salinity' && neighborStatus === 2)) { // 2 = Mangrove
                        return true;
                    }
                }
            }
            return false;
        }

        function handleClimateEvent() {
            const eventChance = { easy: 0.4, medium: 0.6, hard: 0.8, hell: 0.9, destruction: 1.0 }[difficulty];
            const eventBanner = document.getElementById('event-banner');
            let totalDamage = 0;

            if (Math.random() < eventChance) {
                const eventType = Math.random() < 0.5 ? 'flood' : 'salinity';
                const eventName = eventType === 'flood' ? 'L≈® L·ª§T' : 'X√ÇM NH·∫¨P M·∫∂N';
                const damageChance = getDamageChance();

                eventBanner.textContent = `THI√äN TAI: ${eventName} T·∫§N C√îNG!`;
                eventBanner.style.color = '#f44336';
                eventBanner.style.display = 'block';

                // G√¢y thi·ªát h·∫°i tr√™n l∆∞·ªõi
                for (let i = 0; i < GRID_SIZE; i++) {
                    for (let j = 0; j < GRID_SIZE; j++) {
                        const tileStatus = board[i][j];
                        
                        // Ch·ªâ ·∫£nh h∆∞·ªüng ƒë·∫øn ƒë·∫•t th∆∞·ªùng (0) ho·∫∑c l√∫a (3)
                        if (tileStatus === 0 || tileStatus === 3) {
                            let currentDamageChance = damageChance;

                            // Mi·ªÖn nhi·ªÖm (L√∫a ch·ªãu m·∫∑n mi·ªÖn nhi·ªÖm v·ªõi M·∫∑n)
                            if (tileStatus === 3 && eventType === 'salinity') continue; 

                            // Gi·∫£m nh·ªù c√¥ng tr√¨nh l√¢n c·∫≠n
                            if (getAdjacentProtection(i, j, eventType)) {
                                currentDamageChance *= 0.4; // Gi·∫£m 60% r·ªßi ro
                            }

                            if (Math.random() < currentDamageChance) {
                                if (tileStatus !== -1) { // Ch·ªâ gi·∫£m farmland n·∫øu √¥ ch∆∞a b·ªã h∆∞
                                    farmland--;
                                }
                                board[i][j] = -1; // H∆∞ h·ªèng
                                totalDamage++;
                                updateTile(i, j);
                            }
                        }
                    }
                }
                logMessage(`M√ôA B√ÉO T·ªê: ${eventName}. Thi·ªát h·∫°i: ${totalDamage} √¥ ƒë·∫•t.`);
            } else {
                eventBanner.textContent = 'M√ôA B√åNH Y√äN. B·∫°n c√≥ th·ªÉ ki·∫øm th√™m ti·ªÅn.';
                eventBanner.style.color = '#4CAF50';
                eventBanner.style.display = 'block';
                logMessage('M√ôA B√åNH Y√äN. Thu nh·∫≠p t·ªët h∆°n.');
            }
        }

        function endTurn() {
            // 1. Ki·ªÉm tra GAME OVER (Th·∫•t b·∫°i)
            if (farmland <= INITIAL_TILES * MIN_FARMLAND_THRESHOLD) {
                return endGame('DEFEAT');
            }

            // 2. Thu nh·∫≠p d·ª±a tr√™n ƒë·∫•t c√≤n l·∫°i (s·∫£n xu·∫•t)
            funds += farmland * 10; 
            
            // 3. X·ª≠ l√Ω S·ª± ki·ªán Kh√≠ h·∫≠u
            handleClimateEvent();

            season++;
            actions = 10 + upgrades.actions; // Reset h√†nh ƒë·ªông
            score = farmland * 10 + funds; // C·∫≠p nh·∫≠t ƒëi·ªÉm
            
            // 4. Ki·ªÉm tra GAME OVER (Chi·∫øn th·∫Øng)
            if (season > MAX_SEASONS) {
                return endGame('VICTORY');
            }
            
            updateUI();
        }

        // === K·∫æT TH√öC & N√ÇNG C·∫§P ===

        function endGame(status) {
            document.getElementById('play-screen').classList.add('hidden');
            document.getElementById('results-screen').classList.remove('hidden');
            
            document.getElementById('final-season').textContent = season - 1;
            document.getElementById('final-farmland').textContent = farmland;
            document.getElementById('final-funds').textContent = funds;
            document.getElementById('final-score').textContent = score;
            
            document.getElementById('final-status').textContent = status === 'VICTORY' ? 'TH·∫ÆNG L·ª¢I Vƒ® ƒê·∫†I!' : 'TH·∫§T B·∫†I TH·∫¢M KH·ªêC!';
            
            document.getElementById('upgrade-panel').style.display = 'block';
            document.getElementById('upgrade-panel').style.position = 'fixed'; // ƒê·∫£m b·∫£o n√≥ n·ªïi l√™n tr√™n
        }

        function upgrade(type) {
            const cost = type === 'funds' ? 200 : type === 'actions' ? 100 : 50;
            if (score >= cost) {
                score -= cost;
                upgrades[type]++;
                logMessage(`ƒê√£ n√¢ng c·∫•p ${type}! Chi ph√≠: ${cost} ƒëi·ªÉm.`);
                updateUI();
            } else {
                logMessage('Kh√¥ng ƒë·ªß ƒëi·ªÉm ƒë·ªÉ n√¢ng c·∫•p!');
            }
        }

        function closeUpgrade() {
            document.getElementById('upgrade-panel').style.display = 'none';
        }

        function restartGame() {
            document.getElementById('results-screen').classList.add('hidden');
            document.getElementById('menu-screen').classList.remove('hidden');
            document.getElementById('upgrade-panel').style.display = 'none';
        }

        // Kh·ªüi ƒë·ªông Menu khi t·∫£i trang
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('menu-screen').classList.remove('hidden');
        });
    </script>
</body>
</html>